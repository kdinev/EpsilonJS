<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>EpsilonJS by kdinev</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>EpsilonJS</h1>
        <p>A JavaScript calculator and an expression parser.</p>

        <p class="view"><a href="https://github.com/kdinev/EpsilonJS">View the Project on GitHub <small>kdinev/EpsilonJS</small></a></p>


        <ul>
          <li><a href="https://github.com/kdinev/EpsilonJS/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/kdinev/EpsilonJS/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/kdinev/EpsilonJS">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="epsilonjs" class="anchor" href="#epsilonjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>EpsilonJS<a href="https://www.codacy.com/public/kdinev/EpsilonJS"><img src="https://www.codacy.com/project/badge/3d2d4cba93d94dc59cbbad849f7c9fbe" alt="Codacy Badge"></a><a href="https://travis-ci.org/kdinev/EpsilonJS"><img src="https://travis-ci.org/kdinev/EpsilonJS.svg?branch=master" alt="Build Status"></a>
</h1>

<p>EpsilonJS us a JavaScript calculator and an expression parser. The framework allows for parsing mathematical expressions from string or from DOM attributes. It also allows evaluation of mathematical expressions as part of DOM attributes which reference other DOM elements.</p>

<h1>
<a id="how-to-build-epsilonjs" class="anchor" href="#how-to-build-epsilonjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to build EpsilonJS</h1>

<p>Clone the repo:</p>

<pre><code>git clone https://github.com/kdinev/EpsilonJS.git
</code></pre>

<p>Install the grunt client:</p>

<pre><code>npm install -g grunt-cli bower
</code></pre>

<p>Go to the EpsilonJS folder and install dependencies:</p>

<pre><code>cd epsilonjs
npm install
bower install
</code></pre>

<p>Build:</p>

<pre><code>grunt default
</code></pre>

<h1>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h1>

<p>Parses and evaluates mathematical expressions. The expression is provided to the expression parser as a string.</p>

<pre><code>var expr = "1/(2+8)*2",
    parser = new Epsilon.ExpressionParser(expr);
parser.evaluate(); // Yeilds 0.2 as a number type
</code></pre>

<p>Supported operators:</p>

<ul>
<li>Addition (+)</li>
<li>Subtraction (-)</li>
<li>Multiplication (*)</li>
<li>Division (/)</li>
<li>Negative values (-)</li>
<li>Brackets (())</li>
</ul>

<p>The epsilon expression parser handles DOM formula references as well. The epsilon expression parser will evaluate all elements containing a <code>data-formula</code> attribute. In order to get the DOM evaluated the <code>Epsilon.epsilon()</code> method needs to be called after loading the DOM. The references need to be like excel cells (e.g. <code>A10</code>, <code>C2</code>) and will be looked-up by <code>id</code> and by <code>data-formula-ref</code> attribute if not found by <code>id</code>. The referenced elements can contain and formula and epsilon will evaluate them according to their <code>data-formula</code>. Circular references are not handled at this point and will result in out of stack space exception.</p>

<p>Example:</p>

<pre><code>&lt;ul&gt;
    &lt;li id="A1"&gt;10&lt;/li&gt; &lt;!-- &lt;li data-formula-ref="A1"&gt;10&lt;/li&gt; --&gt;
    &lt;li data-formula="=A1*2"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;script type="text/javascript"&gt;
    Epsilon.epsilon();
&lt;/script&gt;
</code></pre>

<p>The result will be:</p>

<ul>
<li>10</li>
<li>20</li>
</ul>

<p>Epsilon can evaluate only specific DOM elements as well and can be invoked at any point for those elements. If the reference elements contain formulas, then their formulas will be evaluated as part of the requested element's formula but their DOM values will not be changed.</p>

<p>Example:</p>

<pre><code>&lt;ul&gt;
    &lt;li id="A1"&gt;10&lt;/li&gt; &lt;!-- &lt;li data-formula-ref="A1"&gt;10&lt;/li&gt; --&gt;
    &lt;li id="A2" data-formula="=A1*2"&gt;&lt;/li&gt;
    &lt;li id="A3" data-formula="=A2+5"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;script type="text/javascript"&gt;
    Epsilon.epsilon(document.getElementById("A3"));
&lt;/script&gt;
</code></pre>

<p>The result will be:</p>

<ul>
<li>10</li>
<li>
</li>
<li>25</li>
</ul>

<p>There is also a jQuery UI epsilon calculator widget provided by <a href="https://github.com/kdinev/calculatorjs">https://github.com/kdinev/calculatorjs</a>. This widget was created to test the epsilon expression parser. The calculator widget is dependent on jQuery and jQuery UI. In order to use it:</p>

<pre><code>&lt;div id="calculator"&gt;&lt;/div&gt;
&lt;script type="text/javascript"&gt;
    $(document).ready(function () {
        $("#calculator").calculator();
    });
&lt;/script&gt;
</code></pre>

<p>The calculator widget is used in a Windows 8.1 store application which you may download and play with here: <a href="http://apps.microsoft.com/windows/app/epsilon-calculator/ec41ebdd-00c6-4654-a2a2-b297a0118a87">http://apps.microsoft.com/windows/app/epsilon-calculator/ec41ebdd-00c6-4654-a2a2-b297a0118a87</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/kdinev">kdinev</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-59892354-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>